<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>九宫格算法</title>
    <style>
        *{
            margin: 0 auto;
            padding: 0px;

        }
        #top{
            padding: 20px;
        }

        #bottom{
            position: relative;
        }
        .box{
            width: 220px;
            height: 360px;
            margin: 0 15px 15px 0;
            background-color: #e8e8e8;

        }
        .box img{
            width: 220px;
            height: 300px;
        }
        .box p:last-child{
            font-size: 13px;
            color: orange;
        }

    </style>
</head>
<body>
    <div id="top">
        <button>3列</button>
        <button>4列</button>
        <button>5列</button>
    </div>
<div id="bottom">
    <div class="box">
        <img src="images/img_01.png" alt="">
        <p>哈哈哈哈</p>
        <p>hahahah</p>
    </div>
    <div class="box">
        <img src="images/img_01.png" alt="">
        <p>哈哈哈哈</p>
        <p>hahahah</p>
    </div>
    <div class="box">
        <img src="images/img_01.png" alt="">
        <p>哈哈哈哈</p>
        <p>hahahah</p>
    </div>
    <div class="box">
        <img src="images/img_01.png" alt="">
        <p>哈哈哈哈</p>
        <p>hahahah</p>
    </div>
    <div class="box">
        <img src="images/img_01.png" alt="">
        <p>哈哈哈哈</p>
        <p>hahahah</p>
    </div>
    <div class="box">
        <img src="images/img_01.png" alt="">
        <p>哈哈哈哈</p>
        <p>hahahah</p>
    </div>
    <div class="box">
        <img src="images/img_01.png" alt="">
        <p>哈哈哈哈</p>
        <p>hahahah</p>
    </div>
    <div class="box">
        <img src="images/img_01.png" alt="">
        <p>哈哈哈哈</p>
        <p>hahahah</p>
    </div>
    <div class="box">
        <img src="images/img_01.png" alt="">
        <p>哈哈哈哈</p>
        <p>hahahah</p>
    </div>



</div>
    <script>
        window.onload =function () {
            //1.1获取需要的标签
            var btns = document.getElementById("top").children;
            var bottom = document.getElementById("bottom");
            //1.2监听按钮点击
            btns[0].onclick = function () {
                //2.1定义变量
                var boxW = 220,boxH = 360,marginXY= 15,allCols = 3;
                //2.2遍历
                for (var i = 0 ;i<bottom.children.length;i++){
                    //2.2.1求出当前盒子所在行和列
                    var row = parseInt(i/allCols);
                    var col =  parseInt(i%allCols);
                    console.log("当前盒子在第" + row + ",第" + col);

                    //2.2.2盒子定位
                    var currentBox = bottom.children[i];
                    currentBox.style.position = "absolute";
                    currentBox.style.left = col*(boxW+marginXY)+"px";
                    currentBox.style.top = row*(boxH+marginXY)+"px";
                }


            };
            btns[1].onclick = function () {
                i_flex(4,bottom);


            };
            btns[2].onclick = function () {
                i_flex(5,bottom);

            };


            function i_flex(allCols,parentNode) {
                var boxW = 220,boxH = 360,marginXY= 15;
                //2.2遍历
                for (var i = 0 ;i<parentNode.children.length;i++){
                    //2.2.1求出当前盒子所在行和列
                    var row = parseInt(i/allCols);
                    var col =  parseInt(i%allCols);
                    //console.log("当前盒子在第" + row + ",第" + col);

                    //2.2.2盒子定位
                    var currentBox = parentNode.children[i];
                    currentBox.style.position = "absolute";
                    currentBox.style.left = col*(boxW+marginXY)+"px";
                    currentBox.style.top = row*(boxH+marginXY)+"px";
                }
            }

            
        };

    </script>
</body>
</html>